{"version":3,"sources":["C:/projects/zombie/src/$_lazy_route_resource lazy","C:/projects/zombie/src/app/app.component.css","C:/projects/zombie/src/app/app.component.html","C:/projects/zombie/src/app/app.component.ts","C:/projects/zombie/src/app/app.module.ts","C:/projects/zombie/src/app/game/actor/actor.ts","C:/projects/zombie/src/app/game/bullets/point-bullet.ts","C:/projects/zombie/src/app/game/guns/gun.ts","C:/projects/zombie/src/app/game/guns/machine-gun.ts","C:/projects/zombie/src/app/game/zombies-game.ts","C:/projects/zombie/src/app/game/zombies/zombie.ts","C:/projects/zombie/src/environments/environment.ts","C:/projects/zombie/src/lib/game-core/angular/game-screen-field/game-screen-field.component.css","C:/projects/zombie/src/lib/game-core/angular/game-screen-field/game-screen-field.component.html","C:/projects/zombie/src/lib/game-core/angular/game-screen-field/game-screen-field.component.ts","C:/projects/zombie/src/lib/game-core/angular/game.module.ts","C:/projects/zombie/src/lib/game-core/cached-film-game-object.ts","C:/projects/zombie/src/lib/game-core/events/game-keyboard-event.ts","C:/projects/zombie/src/lib/game-core/events/game-mouse-event.ts","C:/projects/zombie/src/lib/game-core/game-object.ts","C:/projects/zombie/src/lib/game-core/game.ts","C:/projects/zombie/src/lib/game-core/location-matrix.ts","C:/projects/zombie/src/lib/game-core/object-frame.ts","C:/projects/zombie/src/lib/game-core/position.ts","C:/projects/zombie/src/lib/game-core/text-game-object.ts","C:/projects/zombie/src/lib/game-core/time-counter.ts","C:/projects/zombie/src/lib/game-core/transparent-background.ts","C:/projects/zombie/src/lib/game-core/world-frame-object.ts","C:/projects/zombie/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/projects/zombie/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/projects/zombie/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<button (click)=\\\"go()\\\">go | pause</button>\\n<button (click)=\\\"restart()\\\">restart</button>\\n<p>fps: {{game.framesPerSecond | number}}</p>\\n<p>tps: {{game.turnsPerSecond | number}}</p>\\n<p>cache: {{CachedFilmGameObjectFCL() | number}}</p>\\n<app-game-screen-field [game]=\\\"game\\\" [matrixStepSize]=\\\"60\\\"></app-game-screen-field>\\n<img id=\\\"zi1\\\"  [src]=\\\"'assets/accountant-zombie.png'\\\" alt=\\\"\\\" hidden=\\\"true\\\">\\n<img id=\\\"ai1\\\"  [src]=\\\"'assets/actor1.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai2\\\"  [src]=\\\"'assets/actor2.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai3\\\"  [src]=\\\"'assets/actor3.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai4\\\"  [src]=\\\"'assets/actor4.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai5\\\"  [src]=\\\"'assets/actor5.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai6\\\"  [src]=\\\"'assets/actor6.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai7\\\"  [src]=\\\"'assets/actor7.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai8\\\"  [src]=\\\"'assets/actor8.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai9\\\"  [src]=\\\"'assets/actor9.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai10\\\" [src]=\\\"'assets/actor10.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n<img id=\\\"ai11\\\" [src]=\\\"'assets/actor11.png'\\\" alt=\\\"\\\" hidden=\\\"true'\\\">\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/projects/zombie/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import {Component} from '@angular/core';\nimport {Game} from '../lib/game-core/game';\nimport {ZombiesGame} from './game/zombies-game';\nimport {CachedFilmGameObject} from '../lib/game-core/cached-film-game-object';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  game: Game;\n\n\n  constructor() {\n    //this.game = new TestGame();\n    this.game = new ZombiesGame();\n  }\n\n\n  public go(): void { this.game.toggleStartPause(); }\n  public restart(): void {\n    this.game.clearGameState();\n    this.game.initLevel(0);\n    this.game.gameFrameDraw();\n    this.game.startGame();\n  }\n\n  public CachedFilmGameObjectFCL(): number {\n    return Object.keys(CachedFilmGameObject.framesCache).length;\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport {GameModule} from '../lib/game-core/angular/game.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    GameModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/app/app.module.ts","import {AngleType} from '../../../lib/game-core/game-object';\r\nimport 'rxjs/add/operator/filter';\r\nimport {Gun} from '../guns/gun';\r\nimport {MachineGun} from '../guns/machine-gun';\r\nimport {MouseEventType} from '../../../lib/game-core/events/game-mouse-event';\r\nimport {KeyboardEventType} from '../../../lib/game-core/events/game-keyboard-event';\r\nimport {Game} from '../../../lib/game-core/game';\r\nimport {Subscription} from 'rxjs/Subscription';\r\nimport {Pos} from '../../../lib/game-core/position';\r\nimport {CachedFilmGameObject, FilmFrameDescription} from '../../../lib/game-core/cached-film-game-object';\r\n\r\nexport class Actor extends CachedFilmGameObject<ActorFrameDetails> {\r\n  get m_up(): boolean {\r\n    return this._m_up;\r\n  }\r\n\r\n  get m_down(): boolean {\r\n    return this._m_down;\r\n  }\r\n\r\n  get m_right(): boolean {\r\n    return this._m_right;\r\n  }\r\n\r\n  get m_left(): boolean {\r\n    return this._m_left;\r\n  }\r\n\r\n  static s2 = 1 / Math.sqrt(2);\r\n\r\n  r = 16;\r\n\r\n  public angleType: AngleType = AngleType.ON_EYE;\r\n\r\n  public gun: Gun;\r\n\r\n  public suit = 1;\r\n\r\n  private _m_up = false;\r\n  private _m_down = false;\r\n  private _m_right = false;\r\n  private _m_left = false;\r\n\r\n  private speed_diagonal: number;\r\n\r\n  private mouseSubscription: Subscription;\r\n  private keyboardSubscription: Subscription;\r\n\r\n\r\n\r\n  constructor(x: number, y: number) {\r\n    super(x, y);\r\n    this.speed = 4;\r\n    this.speed_diagonal = this.speed * Actor.s2;\r\n    this.speedVector = new Pos(0,0);\r\n\r\n    this.gun = new MachineGun();\r\n\r\n    this.withHelth(500, 30);\r\n  }\r\n\r\n\r\n  public onAddIntoGame(game: Game): void {\r\n    super.onAddIntoGame(game);\r\n\r\n    this.mouseSubscription = this.game.mouse.subscribe(e => {\r\n      if (e.type === MouseEventType.DOWN) { this.onMouseDown(e.event); }\r\n      else if (e.type === MouseEventType.UP)   { this.onMouseUp(e.event); }\r\n    });\r\n\r\n    this.keyboardSubscription = this.game.keyboard.subscribe(e => {\r\n      if (e.type === KeyboardEventType.DOWN) { this.onKeyDown(e.event); }\r\n      else if (e.type === KeyboardEventType.UP)   { this.onKeyUp(e.event); }\r\n    });\r\n\r\n  }\r\n\r\n\r\n  public onRemovingFromGame(): void {\r\n    super.onRemovingFromGame();\r\n\r\n    this.mouseSubscription.unsubscribe();\r\n    this.keyboardSubscription.unsubscribe();\r\n  }\r\n\r\n\r\n  getCurrentFilmFrameDescription(): FilmFrameDescription<ActorFrameDetails> {\r\n    const state = new ActorFrameDetails(\r\n      this.helth, this.maxHelth, this.suit\r\n    );\r\n\r\n    const center = Math.floor(this.r * 2.5 );\r\n    const sz = center * 2;\r\n\r\n    return new FilmFrameDescription<ActorFrameDetails>(state.getKey(),\r\n      new Pos(sz, sz),\r\n      new Pos(center, center),\r\n      state\r\n    );\r\n  }\r\n\r\n  drawFrame(frameCtx: CanvasRenderingContext2D, frameDescr: FilmFrameDescription<ActorFrameDetails>) {\r\n    let ctx = frameCtx;\r\n    let image: HTMLImageElement = document.getElementById(\"ai\"+frameDescr.details.suit) as HTMLImageElement;\r\n    ctx.drawImage(image, 0,0, frameDescr.size.x,frameDescr.size.y);\r\n/*\r\n    let strokeStyle = '#65b9b3';\r\n    let fillStyle = '#6a8dff';\r\n\r\n    const subr = this.r - 3;\r\n    let l = frameDescr.center.x;\r\n\r\n    let ctx = frameCtx;\r\n    let path = new Path2D();\r\n    path.moveTo(frameDescr.center.x, frameDescr.center.y);\r\n    path.lineTo(frameDescr.center.x + l, frameDescr.center.y );\r\n    ctx.lineWidth = frameDescr.details.healthWidth > 0 ? frameDescr.details.healthWidth : 0.5;\r\n\r\n    ctx.strokeStyle = strokeStyle;\r\n    ctx.stroke(path);\r\n\r\n    ctx.beginPath();\r\n    ctx.fillStyle = fillStyle;\r\n    ctx.arc(frameDescr.center.x, frameDescr.center.y, subr, 0, GameObject.PIx2);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    //ctx.strokeRect(0,0, frameDescr.size.x, frameDescr.size.y)\r\n*/\r\n  }\r\n\r\n  public drawHelth(ctx: CanvasRenderingContext2D): void {\r\n    const hx = 550;\r\n    const hy = 15;\r\n    const h_lineWidth = 7;\r\n    const h_length = 700;\r\n\r\n    ctx.lineCap = 'round';\r\n    ctx.lineWidth = h_lineWidth;\r\n    let hl = new Path2D();\r\n    hl.moveTo(hx,hy);\r\n    hl.lineTo(hx+h_length, hy);\r\n\r\n    if (this.helth === this.maxHelth) {\r\n      ctx.strokeStyle = '#ff7716';\r\n      ctx.stroke(hl);\r\n    } else {\r\n      ctx.strokeStyle = '#a9a9a9';\r\n      ctx.stroke(hl);\r\n\r\n      if (this.helth > 0) {\r\n        if (this.helth > 0) {\r\n          let dl = new Path2D();\r\n          dl.moveTo(hx, hy);\r\n          dl.lineTo(hx + h_length * (this.helth / this.maxHelth) , hy);\r\n          ctx.strokeStyle = '#ff7716';\r\n          ctx.stroke(dl);\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  beforeTurn(): void {\r\n    this.gun.finishReloading();\r\n  }\r\n\r\n  turn(): void {\r\n    this.moveForwardSafe();\r\n    this.setEyeDirectionOn_xy(this.game.mousePos.x, this.game.mousePos.y);\r\n\r\n    let bullet = this.gun.shot(this);\r\n    if (bullet) { this.game.add(bullet); }\r\n\r\n  }\r\n\r\n  afterTurn(): void {\r\n    if (this.helth <= 0) { this.game.loose(); }\r\n    this.scale = this.getDeathStageK();\r\n  }\r\n\r\n  private way(xd, yd, xs, ys) {\r\n    this.directionVector.x = xd; this.directionVector.y = yd;\r\n    this.speedVector.x     = xs; this.speedVector.y = ys;\r\n  }\r\n\r\n  private calcAngle() {\r\n    let o = 0;\r\n\r\n    let l = 1;\r\n    let p = Actor.s2;\r\n\r\n    let s = this.speed;\r\n    let d = this.speed_diagonal;\r\n\r\n    if      (  this._m_up && !this._m_down && !this._m_right && !this._m_left) { this.way(  o, -l,  o, -s); }\r\n    else if (  this._m_up && !this._m_down &&  this._m_right && !this._m_left) { this.way(  p, -p,  d, -d); }\r\n    else if ( !this._m_up && !this._m_down &&  this._m_right && !this._m_left) { this.way(  l,  o,  s,  o); }\r\n    else if ( !this._m_up &&  this._m_down &&  this._m_right && !this._m_left) { this.way(  p,  p,  d,  d); }\r\n    else if ( !this._m_up &&  this._m_down && !this._m_right && !this._m_left) { this.way(  o,  l,  o,  s); }\r\n    else if ( !this._m_up &&  this._m_down && !this._m_right &&  this._m_left) { this.way( -p,  p, -d,  d); }\r\n    else if ( !this._m_up && !this._m_down && !this._m_right &&  this._m_left) { this.way( -l,  o, -s,  o); }\r\n    else if (  this._m_up && !this._m_down && !this._m_right &&  this._m_left) { this.way( -p, -p, -d, -d); }\r\n    else                                                                       { this.way(  o,  o,  o,  o); }\r\n\r\n  }\r\n\r\n  set m_up(value: boolean)    { this._m_up = value; this.calcAngle();    }\r\n  set m_down(value: boolean)  { this._m_down = value; this.calcAngle();  }\r\n  set m_right(value: boolean) { this._m_right = value; this.calcAngle(); }\r\n  set m_left(value: boolean)  { this._m_left = value; this.calcAngle();  }\r\n\r\n  public onMouseDown(event: MouseEvent): void { this.gun.onMouseDown(event); }\r\n  public onMouseUp(event: MouseEvent): void { this.gun.onMouseUp(event); }\r\n\r\n  public onKeyDown(event: KeyboardEvent) {\r\n    if      (event.code === 'KeyW') {this.m_up    = true; }\r\n    else if (event.code === 'KeyS') {this.m_down  = true; }\r\n    else if (event.code === 'KeyA') {this.m_left  = true; }\r\n    else if (event.code === 'KeyD') {this.m_right = true; }\r\n  }\r\n\r\n  public onKeyUp(event: KeyboardEvent) {\r\n    if      (event.code === 'KeyW') {this.m_up    = false; }\r\n    else if (event.code === 'KeyS') {this.m_down  = false; }\r\n    else if (event.code === 'KeyA') {this.m_left  = false; }\r\n    else if (event.code === 'KeyD') {this.m_right = false; }\r\n  }\r\n\r\n}\r\n\r\nexport class ActorFrameDetails {\r\n  healthWidth: number;\r\n  suit: number;\r\n\r\n  constructor(helth: number, maxHealth: number, suit: number) {\r\n    this.healthWidth = Math.floor( 7*(helth / maxHealth) );\r\n    this.suit = suit;\r\n  }\r\n\r\n  public getKey(): string {\r\n    return `a-${this.suit}-${this.healthWidth}`;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/app/game/actor/actor.ts","import {GameObject} from '../../../lib/game-core/game-object';\r\nimport {Game} from '../../../lib/game-core/game';\r\nimport {Pos} from '../../../lib/game-core/position';\r\nimport {Zombie} from '../zombies/zombie';\r\n\r\nexport class PointBullet extends GameObject{\r\n\r\n  atack = 1;\r\n\r\n  r = 0.5;\r\n\r\n\r\n  constructor(game: Game, x: number, y: number, direction: Pos) {\r\n    super(x, y);\r\n\r\n    this.speed = 20;\r\n    this.setDirection( direction );\r\n\r\n  }\r\n\r\n  draw(): void {\r\n    let ctx = this.game.ctx;\r\n    let path = new Path2D();\r\n    path.moveTo(this.p.x, this.p.y);\r\n    path.lineTo(this.p.x + 7 * this.directionVector.x, this.p.y + 7 * this.directionVector.y);\r\n    ctx.lineWidth = 3;\r\n    ctx.strokeStyle ='#b97686';\r\n    ctx.stroke(path);\r\n  }\r\n\r\n  beforeTurn(): void {\r\n    this.checkForZombie()\r\n  }\r\n\r\n  turn(): void {\r\n    this.moveForward();\r\n    if (this.isOutOfField()) { this.game.markForDelete(this) }\r\n\r\n  }\r\n\r\n  afterTurn(): void {\r\n  }\r\n\r\n  checkForZombie(): void {\r\n    this.game.matrix.applyForNearestObjects(this, (z) => { if (z instanceof Zombie) {\r\n      if (z.helth > 0 && this.p.distanceTo( z.p ) <= (this.r + (z.r + z.helth)*2 ) ) {\r\n        z.damage(this.atack);\r\n        this.game.markForDelete(this);\r\n      }\r\n    }});\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/app/game/bullets/point-bullet.ts","\r\n\r\nimport {GameObject} from '../../../lib/game-core/game-object';\r\nimport {TimeCounter} from '../../../lib/game-core/time-counter';\r\n\r\nexport abstract class Gun {\r\n\r\n  protected reloadingDuration: TimeCounter;\r\n\r\n  public capacity: number;\r\n  public bullets: number;\r\n  protected isRelodingInProcess = false;\r\n\r\n  public isShotModeOn = false;\r\n\r\n\r\n  constructor(capacity: number, reloadingDuration: number) {\r\n    this.capacity = capacity;\r\n    this.bullets = capacity;\r\n    this.reloadingDuration = new TimeCounter(reloadingDuration);\r\n  }\r\n\r\n  public shot(actor: GameObject): GameObject {\r\n    if (!this.isShotModeOn) { return; }\r\n\r\n    if (this.bullets > 0) {\r\n        this.bullets -= 1;\r\n        return this.makeBullet(actor);\r\n    } else {\r\n        this.startReaload();\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  public abstract makeBullet(actor: GameObject): GameObject;\r\n\r\n\r\n  public drawBullets(ctx: CanvasRenderingContext2D) {\r\n\r\n    ctx.lineWidth = 3;\r\n    ctx.strokeStyle ='#b97686';\r\n\r\n    for (let i = 0; i < this.bullets; i++) {\r\n      this.drawBullet(ctx, i);\r\n    }\r\n  }\r\n\r\n  public drawBullet(ctx: CanvasRenderingContext2D, i: number) {\r\n    let path = new Path2D();\r\n\r\n    path.moveTo(10 + (i % 100)*5, 10 + (Math.floor(i / 100))* 10 );\r\n    path.lineTo(10 + (i % 100)*5, 10 + (Math.floor(i / 100))* 10 + 7);\r\n\r\n    ctx.stroke(path);\r\n  }\r\n\r\n  public startReaload(): void {\r\n    if (this.isRelodingInProcess) {\r\n      return;\r\n    }\r\n    this.isRelodingInProcess = true;\r\n    this.reloadingDuration.isItTime();\r\n    this.reloadingDuration.fixLastChecking();\r\n    this.bullets = 0;\r\n  }\r\n\r\n  public finishReloading(): void {\r\n    if (this.isRelodingInProcess && this.reloadingDuration.isItTime()) {\r\n      this.bullets = this.capacity;\r\n      this.isRelodingInProcess = false;\r\n    }\r\n  }\r\n\r\n  public onMouseDown(event: MouseEvent): void {\r\n    this.isShotModeOn = true;\r\n  }\r\n\r\n  public onMouseUp(event: MouseEvent): void {\r\n    this.isShotModeOn = false;\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/app/game/guns/gun.ts","\r\n\r\nimport {Gun} from './gun';\r\nimport {GameObject} from '../../../lib/game-core/game-object';\r\nimport {PointBullet} from '../bullets/point-bullet';\r\n\r\nexport class MachineGun extends Gun {\r\n\r\n  constructor() {\r\n    super(300, 1200);\r\n  }\r\n\r\n  public makeBullet(actor: GameObject): GameObject {\r\n      return new PointBullet(\r\n        actor.game,\r\n        actor.p.x + 40 * actor.eyeDirectionVector.x,\r\n        actor.p.y + 40 * actor.eyeDirectionVector.y,\r\n        actor.eyeDirectionVector\r\n      );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/app/game/guns/machine-gun.ts","import {Game} from '../../lib/game-core/game';\r\nimport {TransparentBackground} from '../../lib/game-core/transparent-background';\r\nimport {GameObject} from '../../lib/game-core/game-object';\r\nimport {WorldFrameObject} from '../../lib/game-core/world-frame-object';\r\nimport {Actor} from './actor/actor';\r\nimport {Zombie} from './zombies/zombie';\r\nimport {TimeCounter} from '../../lib/game-core/time-counter';\r\nimport {TextGameObject} from '../../lib/game-core/text-game-object';\r\n\r\nexport class ZombiesGame extends Game {\r\n\r\n  //showOuterFrames = true;\r\n\r\n  backGround: GameObject;\r\n  actor: Actor;\r\n\r\n  private ztc = new TimeCounter(1000);\r\n\r\n  constructor () { super(); }\r\n\r\n\r\n  public initLevel(levelNumber: number): void {\r\n\r\n    const xSize = this.worldSize.x;\r\n    const ySize = this.worldSize.y;\r\n\r\n    this.backGround  = new TransparentBackground();\r\n    this.actor       = new Actor(Math.floor(xSize / 2), Math.floor(ySize / 2) );\r\n    this.followingActor = false;\r\n\r\n    this.add( this.backGround  );\r\n    //this.add( new MatrixVisualizerGameObject('15px Arial', '#6b6e70', '#f68200' ) );\r\n\r\n    this.add( this.actor       );\r\n\r\n    let zr = 30;\r\n    this.add( new Zombie(zr,       zr) );\r\n    this.add( new Zombie(xSize-zr, zr) );\r\n    this.add( new Zombie(xSize-zr, ySize-zr) );\r\n    this.add( new Zombie(zr,       ySize-zr) );\r\n\r\n    this.add( new WorldFrameObject('#f3ffa2') );\r\n\r\n    this.ztc.actionPeriodMillis = 1000;\r\n    //this.gameTimeFrame = 20;\r\n\r\n    this.actor.suit = Math.floor(Math.random()*11) + 1;\r\n\r\n  }\r\n\r\n  public loose(): void {\r\n    super.loose();\r\n    this.add( new TextGameObject('Game Over !', '80px Arial', '#ff7716', '#6b6e70' ) );\r\n  }\r\n\r\n  public gameActionTurn(): void {\r\n    super.gameActionTurn();\r\n\r\n    if (this.ztc.isItTime()) {\r\n      this.ztc.fixLastChecking();\r\n      if (this.ztc.actionPeriodMillis > 140) { this.ztc.actionPeriodMillis -= 20;}\r\n\r\n\r\n      let factor = ZombiesGame.rnd01();\r\n      let zx, zy :number;\r\n\r\n      if (Math.random() > 0.5) { zx = factor        * this.worldSize.x; zy = Math.random() * this.worldSize.y; }\r\n      else                     { zx = Math.random() * this.worldSize.x; zy = factor        * this.worldSize.y;}\r\n\r\n\r\n      this.add( new Zombie( zx, zy ) );\r\n    }\r\n  }\r\n\r\n  static rnd01() { return Math.round(Math.random()); }\r\n\r\n\r\n  public gameFrameDraw(): void {\r\n    super.gameFrameDraw();\r\n\r\n    this.ctx.setTransform(\r\n      1, 0,\r\n      0, 1,\r\n      0, 0\r\n    );\r\n    this.actor.gun.drawBullets(this.ctx);\r\n    this.actor.drawHelth(this.ctx);\r\n\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/app/game/zombies-game.ts","import {Actor} from '../actor/actor';\r\nimport {CachedFilmGameObject, FilmFrameDescription} from '../../../lib/game-core/cached-film-game-object';\r\nimport {Pos} from '../../../lib/game-core/position';\r\n\r\nexport class Zombie extends CachedFilmGameObject<ZombieFrameDetails>{\r\n\r\n  static PIx2 = Math.PI * 2;\r\n\r\n  public r = 12;\r\n\r\n  constructor(x: number, y: number) {\r\n    super(x, y);\r\n    this.speed = 0.7;\r\n\r\n    this.withHelth(3, 15);\r\n  }\r\n\r\n  private checkActorDamage() {\r\n    if (this.helth <= 0) return;\r\n\r\n    this.game.matrix.applyForNearestObjects(this, (actor) => { if (actor instanceof Actor) {\r\n        if (this.p.distanceTo( actor.p ) <= (this.r + actor.r ) ) {\r\n          actor.damage( 1 );\r\n        }\r\n    }});\r\n  }\r\n\r\n\r\n  getCurrentFilmFrameDescription(): FilmFrameDescription<ZombieFrameDetails> {\r\n\r\n    const state = new ZombieFrameDetails(\r\n      this.helth\r\n    );\r\n\r\n    const center = Math.floor(this.r * 2.5 );\r\n    const sz = center * 2;\r\n\r\n    return new FilmFrameDescription<ZombieFrameDetails>(state.getKey(),\r\n      new Pos(sz, sz),\r\n      new Pos(center, center),\r\n      state\r\n    );\r\n  }\r\n\r\n  drawFrame(frameCtx: CanvasRenderingContext2D, frameDescr: FilmFrameDescription<ZombieFrameDetails>) {\r\n\r\n    let ctx = frameCtx;\r\n    let image: HTMLImageElement = document.getElementById(\"zi1\") as HTMLImageElement;\r\n    ctx.drawImage(image, 0,0, frameDescr.size.x,frameDescr.size.y);\r\n/*\r\n    const strokeStyle = '#9cb9b7';\r\n    const fillStyle = '#aa0600';\r\n\r\n    const subr = this.r - 3;\r\n    let l = frameDescr.center.x;\r\n\r\n    let path = new Path2D();\r\n    path.moveTo(frameDescr.center.x, frameDescr.center.y);\r\n    path.lineTo(frameDescr.center.x + l, frameDescr.center.y );\r\n    ctx.lineWidth = 1 + frameDescr.details.helth;\r\n\r\n    ctx.strokeStyle = strokeStyle;\r\n    ctx.stroke(path);\r\n\r\n    ctx.beginPath();\r\n    ctx.fillStyle = fillStyle;\r\n    ctx.arc(frameDescr.center.x, frameDescr.center.y, subr, 0, Zombie.PIx2);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.strokeRect(0,0, frameDescr.size.x, frameDescr.size.y)\r\n*/\r\n  }\r\n\r\n  beforeTurn(): void {\r\n    this.checkActorDamage();\r\n\r\n    this.setDirectionOn( this.game.actor.p );\r\n  }\r\n\r\n  turn(): void {\r\n    if (this.helth > 0) { this.moveForward(); }\r\n  }\r\n\r\n  afterTurn(): void {\r\n    this.scale = this.getDeathStageK();\r\n  }\r\n\r\n}\r\n\r\nexport class ZombieFrameDetails {\r\n  helth: number;\r\n\r\n  constructor(helth: number) {\r\n    this.helth = helth;\r\n  }\r\n\r\n  public getKey(): string {\r\n    return `z-${this.helth}`;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/app/game/zombies/zombie.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n\n  base_url: ''\n\n};\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/environments/environment.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".gameField {\\r\\n  border: 1px solid #3a599a;\\r\\n  position: absolute;\\r\\n  width: 1280px;\\r\\n  height: 720px;\\r\\n  top:0;\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n\\r\\n  margin: auto;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/projects/zombie/src/lib/game-core/angular/game-screen-field/game-screen-field.component.css\n// module id = ../../../../../src/lib/game-core/angular/game-screen-field/game-screen-field.component.css\n// module chunks = main","module.exports = \"<div class=\\\"gameField\\\"><canvas #gameCanvasField width=\\\"1280\\\" height=\\\"720\\\"></canvas></div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/projects/zombie/src/lib/game-core/angular/game-screen-field/game-screen-field.component.html\n// module id = ../../../../../src/lib/game-core/angular/game-screen-field/game-screen-field.component.html\n// module chunks = main","import {Component, ElementRef, HostListener, Input, OnInit, ViewChild} from '@angular/core';\nimport {Game} from '../../game';\nimport {CachedFilmGameObject} from '../../cached-film-game-object';\n\n@Component({\n  selector: 'app-game-screen-field',\n  templateUrl: './game-screen-field.component.html',\n  styleUrls: ['./game-screen-field.component.css']\n})\nexport class GameScreenFieldComponent implements OnInit {\n\n  @Input() game: Game;\n  @Input() xWorldSize?: number;\n  @Input() yWorldSize?: number;\n  @Input() matrixStepSize?: number = 100;\n\n  @ViewChild('gameCanvasField') canvasRef: ElementRef;\n\n  constructor () { }\n\n  ngOnInit () {\n    const canvas: HTMLCanvasElement = this.canvasRef.nativeElement;\n\n    this.xWorldSize = (this.xWorldSize) || canvas.width;\n    this.yWorldSize = (this.yWorldSize) || canvas.height;\n\n    this.game.init(canvas, this.xWorldSize, this.yWorldSize, this.matrixStepSize);\n\n    this.game.initLevel(1);\n\n  }\n\n  @HostListener('mousemove', ['$event'])     onMouseMove(event: MouseEvent) { this.game.onMouseMove(event); }\n  @HostListener('mousedown', ['$event'])     onMouseDown(event: MouseEvent) { this.game.onMouseDown(event); }\n  @HostListener('mouseup',   ['$event'])       onMouseUp(event: MouseEvent) { this.game.onMouseUp(event);   }\n  @HostListener('click',     ['$event'])    onMouseClick(event: MouseEvent) { this.game.onMouseClick(event);}\n  @HostListener('dblclick',  ['$event']) onMouseDblClick(event: MouseEvent) { this.game.onMouseDblClick(event);}\n  @HostListener('mouseenter',['$event'])    onMouseEnter(event: MouseEvent) { this.game.onMouseEnter(event);}\n  @HostListener('mouseleave',['$event'])    onMouseLeave(event: MouseEvent) { this.game.onMouseLeave(event);}\n\n  @HostListener('document:keypress',['$event']) onKeyPress(event: KeyboardEvent) { this.game.onKeyboardPress(event);}\n  @HostListener('document:keydown', ['$event'])  onKeyDown(event: KeyboardEvent) { this.game.onKeyboardDown(event);}\n  @HostListener('document:keyup',   ['$event'])    onKeyUp(event: KeyboardEvent) { this.game.onKeyboardUp(event);  }\n\n\n  ngOnDestroy (): void {\n    this.game.onDestroy();\n  }\n\n  public CachedFilmGameObjectFCL(): number {\n    return Object.keys(CachedFilmGameObject.framesCache).length;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/angular/game-screen-field/game-screen-field.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GameScreenFieldComponent } from './game-screen-field/game-screen-field.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    GameScreenFieldComponent\n  ],\n  exports: [\n    GameScreenFieldComponent\n  ]\n})\nexport class GameModule {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/angular/game.module.ts","import {AngleType, GameObject} from './game-object';\r\nimport {Pos} from './position';\r\n\r\nexport abstract class CachedFilmGameObject<T> extends GameObject {\r\n\r\n  static framesCache: any = { target: 'cache'};\r\n\r\n  draw (): void {\r\n    const currentFrameDescr:  FilmFrameDescription<T> = this.getCurrentFilmFrameDescription();\r\n    let actualFrame:  FilmFrameDescription<T>;\r\n\r\n    if (currentFrameDescr.key in CachedFilmGameObject.framesCache ) {\r\n      actualFrame = CachedFilmGameObject.framesCache[currentFrameDescr.key];\r\n    } else {\r\n\r\n      const frameCanvas = <HTMLCanvasElement> document.createElement('canvas');\r\n      frameCanvas.width = currentFrameDescr.size.x;\r\n      frameCanvas.height = currentFrameDescr.size.y;\r\n      const frameCtx: CanvasRenderingContext2D = frameCanvas.getContext('2d');\r\n\r\n      this.drawFrame(frameCtx, currentFrameDescr);\r\n\r\n      actualFrame = currentFrameDescr.withImage( frameCanvas );\r\n      CachedFilmGameObject.framesCache[currentFrameDescr.key] = actualFrame;\r\n    }\r\n\r\n    // affine matrix (rotate and movement)\r\n    // [   cos(a)    sin(a)   0  ]\r\n    // [  -sin(a)    cos(a)   0  ]\r\n    // [   tx        ty       1  ]\r\n    let cosa = 1;\r\n    let sina = 0;\r\n    if (this.angleType === AngleType.ON_MOVEMET) {\r\n      cosa = this.directionVector.x; sina = this.directionVector.y;\r\n    } else if (this.angleType === AngleType.ON_EYE) {\r\n      cosa = this.eyeDirectionVector.x; sina = this.eyeDirectionVector.y;\r\n    }\r\n\r\n    this.game.ctx.transform(\r\n       cosa*this.scale,     sina*this.scale,\r\n      -sina*this.scale,     cosa*this.scale,\r\n       this.p.x, this.p.y\r\n    );\r\n\r\n    this.game.ctx.drawImage( actualFrame.image,\r\n      -actualFrame.center.x,\r\n      -actualFrame.center.y,\r\n    );\r\n\r\n  }\r\n\r\n  abstract getCurrentFilmFrameDescription(): FilmFrameDescription<T>;\r\n  abstract drawFrame(frameCtx: CanvasRenderingContext2D, frameDescr: FilmFrameDescription<T> );\r\n\r\n}\r\n\r\nexport class FilmFrameDescription<T> {\r\n  get key(): string {\r\n    return this._key;\r\n  }\r\n\r\n  get size(): Pos {\r\n    return this._size;\r\n  }\r\n\r\n  get center(): Pos {\r\n    return this._center;\r\n  }\r\n\r\n  get details(): T {\r\n    return this._details;\r\n  }\r\n\r\n  get image(): HTMLCanvasElement {\r\n    return this._image;\r\n  }\r\n\r\n  private _key: string;\r\n  private _size: Pos;\r\n  private _center: Pos;\r\n  private _details: T;\r\n  private _image: HTMLCanvasElement;\r\n\r\n\r\n  constructor(key: string, size: Pos, center: Pos, details: T) {\r\n    this._key = key;\r\n    this._size = size;\r\n    this._center = center;\r\n    this._details = details;\r\n  }\r\n\r\n  withImage(image: HTMLCanvasElement): FilmFrameDescription<T> {\r\n    const v = new FilmFrameDescription(this._key, this._size, this._center, this._details);\r\n    v._image = image;\r\n    return v;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/cached-film-game-object.ts","export enum KeyboardEventType {UP, DOWN, PRESS}\r\n\r\nexport class GameKeyboardEvent {\r\n\r\n  constructor(event: KeyboardEvent, type: KeyboardEventType) {\r\n    this._event = event;\r\n    this._type = type;\r\n  }\r\n\r\n  private _event: KeyboardEvent;\r\n      get event(): KeyboardEvent { return this._event; }\r\n\r\n  private _type: KeyboardEventType;\r\n      get type(): KeyboardEventType { return this._type; }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/events/game-keyboard-event.ts","import {Pos} from '../position';\r\n\r\nexport enum MouseEventType {UP, DOWN, CLICK, MOVE, DBL_CLICK, ENTER, LEAVE}\r\n\r\nexport class GameMouseEvent {\r\n  constructor(mouseEvent: MouseEvent, type: MouseEventType, gamePoint: Pos) {\r\n    this._event = mouseEvent;\r\n    this._type = type;\r\n    this._gamePoint = gamePoint;\r\n  }\r\n\r\n  private _event: MouseEvent;\r\n      get event(): MouseEvent { return this._event; }\r\n\r\n  private _type: MouseEventType;\r\n      get type(): MouseEventType {return this._type; }\r\n\r\n  private _gamePoint: Pos;\r\n      get gamePoint(): Pos { return this._gamePoint; }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/events/game-mouse-event.ts","import {Pos} from './position';\r\nimport {Game} from './game';\r\nimport {ObjectFrame} from './object-frame';\r\n\r\nexport abstract class GameObject {\r\n\r\n  static PIx2 = Math.PI * 2;\r\n\r\n  public id: number;\r\n\r\n  public game: Game;\r\n\r\n  public isDrawable = true;\r\n\r\n  public p: Pos;     // the current position of this object (at the turn begin)\r\n  public pNext: Pos; // the next (planned) position of this object ( p + speedVector )\r\n  public outerFrame: ObjectFrame;\r\n\r\n  public speed: number = 2;                     // movement speed (in pixels)\r\n  public speedVector: Pos = new Pos(1,0);       // movement vector speed (length = speed )\r\n  public directionVector: Pos = new Pos(1,0);   // direction vector (length = 1)\r\n  public eyeDirectionVector: Pos = new Pos(1,0);   // direction vector (length = 1)\r\n\r\n  public angleType: AngleType = AngleType.ON_MOVEMET;\r\n  public scale: number = 1;\r\n\r\n  public isAlife = false;\r\n  public helth: number;\r\n  public maxHelth: number;\r\n  public deadStage: number;\r\n  public deadStages: number;\r\n\r\n  public r: number = 2; // default size of this object\r\n\r\n  abstract draw(): void;\r\n\r\n  abstract beforeTurn(): void;\r\n  abstract turn(): void;\r\n  abstract afterTurn(): void;\r\n\r\n  constructor (x: number, y: number, outerFrame?: ObjectFrame) {\r\n    this.p = new Pos(x, y);\r\n    this.outerFrame = outerFrame;\r\n  }\r\n\r\n  // life cycle hooks\r\n  public onAddIntoGame(game: Game): void {\r\n    this.id = game.getNextId();\r\n    this.game = game;\r\n    this.outerFrame = this.outerFrame || new ObjectFrame(-this.r, -this.r, this.r*2, this.r*2);\r\n    this.initMatrixLocation();\r\n  }\r\n\r\n  public onRemovingFromGame(): void {\r\n    // remove event subscriptions here\r\n  }\r\n\r\n\r\n  //////////////////\r\n  public withHelth(helth: number, deadStages: number): GameObject {\r\n    this.isAlife = true;\r\n    this.helth = helth;\r\n    this.maxHelth = helth;\r\n    this.deadStage = deadStages;\r\n    this.deadStages = deadStages;\r\n    return this;\r\n  }\r\n\r\n  public damage(damageVal: number): void {\r\n    if (this.isAlife && this.helth > 0) {\r\n      this.helth -= damageVal;\r\n      this.helth = this.helth < 0 ? 0 : this.helth;\r\n    }\r\n  }\r\n\r\n  public checkHealth() {\r\n    if (!this.isAlife) { return; }\r\n\r\n    if (this.helth <= 0) {\r\n      this.deadStage -= 1;\r\n      this.deadStage = this.deadStage < 0 ? 0 : this.deadStage;\r\n    }\r\n\r\n    if (this.helth <= 0 && this.deadStage <= 0) {\r\n      this.game.markForDelete(this)\r\n    }\r\n\r\n  }\r\n\r\n  public getDeathStageK(): number {\r\n    return this.deadStage / this.deadStages;\r\n  }\r\n\r\n  // movement helper methods\r\n  setDirectionOn_xy(targetX: number, targetY: number): void {\r\n    const vectorX = targetX - this.p.x;\r\n    const vectorY = targetY - this.p.y;\r\n\r\n    const vectorLen = Math.sqrt( vectorX*vectorX + vectorY*vectorY );\r\n\r\n    this.directionVector.x = ( vectorX / vectorLen );\r\n    this.directionVector.y = ( vectorY / vectorLen );\r\n\r\n    this.speedVector.x = this.directionVector.x * this.speed;\r\n    this.speedVector.y = this.directionVector.y * this.speed;\r\n  }\r\n\r\n  setDirectionOn(targetPosition: Pos): void {\r\n    this.setDirectionOn_xy(targetPosition.x, targetPosition.y)\r\n  }\r\n\r\n  setDirection( normalizedVector: Pos ): void { // the vector length should be = 1\r\n\r\n    this.directionVector.x = normalizedVector.x;\r\n    this.directionVector.y = normalizedVector.y;\r\n\r\n    this.speedVector.x = this.directionVector.x * this.speed;\r\n    this.speedVector.y = this.directionVector.y * this.speed;\r\n  }\r\n\r\n  setEyeDirectionOn(p: Pos): void {\r\n    this.setEyeDirectionOn_xy(p.x, p.y)\r\n  }\r\n\r\n  setEyeDirectionOn_xy(x: number, y: number): void {\r\n    const vectorX = x - this.p.x;\r\n    const vectorY = y - this.p.y;\r\n\r\n    const vectorLen = Math.sqrt( vectorX*vectorX + vectorY*vectorY );\r\n\r\n    this.eyeDirectionVector.x = ( vectorX / vectorLen );\r\n    this.eyeDirectionVector.y = ( vectorY / vectorLen );\r\n  }\r\n\r\n  public moveOn(p: Pos) {\r\n    this.p.x = p.x;\r\n    this.p.y = p.y;\r\n    this.updateMatrixLoaction();\r\n  }\r\n\r\n  public moveTo(x: number, y: number) {\r\n    this.p.x = x;\r\n    this.p.y = y;\r\n    this.updateMatrixLoaction();\r\n  }\r\n\r\n  public moveToSafe(x: number, y: number) {\r\n    moveTo(x, y);\r\n    this.moveReturnOnField();\r\n    this.updateMatrixLoaction();\r\n  }\r\n\r\n  public moveForward() {\r\n    this.p.x += this.speedVector.x;\r\n    this.p.y += this.speedVector.y;\r\n    this.updateMatrixLoaction();\r\n  }\r\n\r\n  public moveForwardSafe() {\r\n    this.p.x += this.speedVector.x;\r\n    this.p.y += this.speedVector.y;\r\n    this.moveReturnOnField();\r\n    this.updateMatrixLoaction();\r\n  }\r\n\r\n  protected updateMatrixLoaction(): void {\r\n    this.pNext.setAsOffsetOf(this.p, this.speedVector);\r\n    this.game.matrix.update(this);\r\n\r\n  }\r\n\r\n  protected initMatrixLocation(): void {\r\n      this.pNext = this.p.copy();\r\n      if (this.speedVector && (Math.abs(this.speedVector.x) + Math.abs(this.speedVector.y))> 0 ) {\r\n        this.pNext.setAsOffsetOf(this.p, this.speedVector);\r\n      }\r\n      this.game.matrix.update(this);\r\n  }\r\n\r\n  public moveReturnOnField() {\r\n    if (this.p.x < 0) {this.p.x = 0; } else {if (this.p.x > this.game.worldSize.x) { this.p.x = this.game.worldSize.x; }}\r\n    if (this.p.y < 0) {this.p.y = 0; } else {if (this.p.y > this.game.worldSize.y) { this.p.y = this.game.worldSize.y; }}\r\n  }\r\n\r\n  public isOutOfField() {\r\n    return this.p.x < 0 || this.p.x > this.game.worldSize.x || this.p.y < 0 || this.p.y > this.game.worldSize.y;\r\n  }\r\n\r\n  // draw helper methods\r\n  public fillCircle (x: number, y: number, radius: number, fillStyle: string | CanvasGradient | CanvasPattern) {\r\n    this.game.ctx.beginPath();\r\n    this.game.ctx.fillStyle = fillStyle;\r\n    this.game.ctx.arc(x, y, radius, 0, Math.PI * 2);\r\n    this.game.ctx.fill();\r\n  }\r\n\r\n  public strokeCircle (x: number, y: number, radius: number, strokeStyle: string | CanvasGradient | CanvasPattern) {\r\n    this.game.ctx.beginPath();\r\n    this.game.ctx.lineWidth = 1;\r\n    this.game.ctx.strokeStyle = strokeStyle;\r\n    this.game.ctx.arc(x, y, radius, 0, Math.PI * 2);\r\n    this.game.ctx.stroke();\r\n  }\r\n\r\n  public fcCircle (x: number, y: number, radius: number, strokeStyle: string | CanvasGradient | CanvasPattern, fillStyle: string | CanvasGradient | CanvasPattern) {\r\n    const ctx = this.game.ctx;\r\n    ctx.beginPath();\r\n    ctx.fillStyle = fillStyle;\r\n    ctx.strokeStyle = strokeStyle;\r\n\r\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n  }\r\n/*\r\n  public fcCircle (x: number, y: number, radius: number, strokeStyle: string | CanvasGradient | CanvasPattern, fillStyle: string | CanvasGradient | CanvasPattern) {\r\n    const circle = new Path2D();\r\n    circle.arc(x, y, radius, 0, Math.PI * 2);\r\n    this.game.ctx.fillStyle = fillStyle;\r\n    this.game.ctx.strokeStyle = strokeStyle;\r\n    this.game.ctx.fill(circle);\r\n    this.game.ctx.stroke(circle);\r\n  }\r\n*/\r\n\r\n}\r\n\r\nexport enum AngleType {ON_MOVEMET, ON_EYE}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/game-object.ts","import {GameObject} from './game-object';\r\nimport {Pos} from './position';\r\nimport {TimeCounter} from './time-counter';\r\nimport {Subscription} from 'rxjs/Subscription';\r\nimport {Observable} from 'rxjs';\r\nimport {Subject} from 'rxjs/Subject';\r\nimport {GameMouseEvent, MouseEventType} from './events/game-mouse-event';\r\nimport {GameKeyboardEvent, KeyboardEventType} from './events/game-keyboard-event';\r\nimport {LocationMatrix} from './location-matrix';\r\n\r\nexport class Game {\r\n\r\n  running: boolean = false;\r\n  isLoose: boolean = false;\r\n\r\n  showOuterFrames = false;\r\n  outerFramesColor = '#596193';\r\n\r\n  secondsTimerCounter = new TimeCounter(1000); // every second\r\n  framesCounter = 0;\r\n  turnsCounter = 0;\r\n  framesPerSecond = 0;\r\n  turnsPerSecond = 0;\r\n  lastFrameDuration = 0;\r\n  framesCounterSubscription: Subscription;\r\n\r\n  gameTimeFrame = 1;\r\n  gameTimer: Subscription;\r\n\r\n  public mouse = new Subject<GameMouseEvent>();\r\n  public keyboard = new  Subject<GameKeyboardEvent>();\r\n\r\n  public followingActor = false;\r\n\r\n  public canvas: HTMLCanvasElement;\r\n  public ctx: CanvasRenderingContext2D;\r\n  public gameObjects: GameObject[] = [];\r\n  public gameObjectsForDelete: GameObject[] = [];\r\n  public mousePos: Pos = new Pos(0, 0);\r\n\r\n  public worldSize: Pos = new Pos(0, 0);\r\n  public matrix: LocationMatrix;\r\n\r\n  public cameraInitialPos: Pos; // center of rendered canvas\r\n  public cameraPos: Pos; // in the beggining - this pos will be in center of rendered canvas\r\n  public cameraShift = new Pos(0,0); //\r\n  public cameraActorFrame: Pos; // frame size around camera where actor can getOffsetVector without camera movement\r\n\r\n  public actor: GameObject; // main game object - camera will follow this object\r\n\r\n  constructor () { }\r\n\r\n  public init(canvas: HTMLCanvasElement, xWorldSize: number, yWorldSize: number, matrixStepSize): void {\r\n    this.canvas = canvas;\r\n    this.ctx = canvas.getContext('2d');\r\n    this.worldSize.x = xWorldSize;\r\n    this.worldSize.y = yWorldSize;\r\n\r\n    this.matrix = new LocationMatrix(matrixStepSize, this.worldSize);\r\n\r\n    this.gameTimeFrame = 20;\r\n\r\n    this.cameraPos = new Pos( Math.floor(canvas.width / 2), Math.floor(canvas.height / 2) );\r\n    this.cameraInitialPos = new Pos( this.cameraPos.x, this.cameraPos.y );\r\n    this.cameraActorFrame = new Pos( Math.floor(canvas.width / 9), Math.floor(canvas.height / 8) );\r\n\r\n  }\r\n\r\n  public clearGameState() {\r\n    this.pauseGame();\r\n    this.matrix.forceClear()\r\n    this.gameObjects.forEach(o => o.onRemovingFromGame());\r\n    this.gameObjects = [];\r\n  }\r\n\r\n  public initLevel(levelNumber: number): void {}\r\n\r\n  private gameStep(): void {\r\n    if (!this.running) { return; }\r\n    this.gameActionTurn();\r\n    this.turnsCounter++;\r\n  }\r\n\r\n  private paint(): void {\r\n    if (!this.running) { return; }\r\n    this.gameFrameDraw();\r\n    this.framesCounter ++;\r\n    requestAnimationFrame(() => this.paint());\r\n  }\r\n\r\n  public startGame(): void {\r\n    if (this.running) { return; }\r\n\r\n    this.gameTimer = Observable.timer(500, this.gameTimeFrame)\r\n      .subscribe(\r\n        () => this.gameStep()\r\n      );\r\n\r\n    this.secondsTimerCounter.isItTime();\r\n    this.secondsTimerCounter.fixLastChecking();\r\n\r\n    this.framesCounterSubscription = Observable.timer(1000, 1000).subscribe(() => {\r\n      if (this.secondsTimerCounter.isItTime()) {\r\n        this.secondsTimerCounter.fixLastChecking();\r\n        this.lastFrameDuration = this.secondsTimerCounter.lastDuration;\r\n\r\n        this.framesPerSecond = Math.floor(this.framesCounter / this.lastFrameDuration * 1000);\r\n        this.framesCounter = 0;\r\n\r\n        this.turnsPerSecond = Math.floor(this.turnsCounter / this.lastFrameDuration * 1000);\r\n        this.turnsCounter = 0;\r\n      }\r\n    });\r\n\r\n\r\n    this.running = true;\r\n    this.paint();\r\n  }\r\n\r\n  public pauseGame(): void {\r\n    this.running = false;\r\n    this.gameTimer.unsubscribe();\r\n    this.framesCounterSubscription.unsubscribe();\r\n  }\r\n\r\n  public toggleStartPause () {\r\n    if (this.running) {\r\n      this.pauseGame();\r\n    } else {\r\n      this.startGame();\r\n    }\r\n  }\r\n\r\n  public loose(): void {\r\n    this.isLoose = true;\r\n  }\r\n\r\n  public gameActionTurn(): void {\r\n    if (this.followingActor && this.actor) { this.followActor() }\r\n    this.gameObjects.forEach( (go: GameObject) => { go.checkHealth(); go.beforeTurn(); } ); this.deleteMarkedElements();\r\n    this.gameObjects.forEach( (go: GameObject) => go.turn() );                             this.deleteMarkedElements();\r\n    this.gameObjects.forEach( (go: GameObject) => go.afterTurn() );                        this.deleteMarkedElements();\r\n  }\r\n\r\n  private followActor(): void {\r\n    const p = this.actor.p;\r\n\r\n    if (p.x < this.cameraPos.x - this.cameraActorFrame.x) {\r\n      this.cameraPos.x = Math.floor(p.x + this.cameraActorFrame.x);\r\n      this.cameraShift.x = this.cameraInitialPos.x - this.cameraPos.x;\r\n    } else if (p.x > this.cameraPos.x + this.cameraActorFrame.x) {\r\n      this.cameraPos.x = Math.floor(p.x - this.cameraActorFrame.x);\r\n      this.cameraShift.x = this.cameraInitialPos.x - this.cameraPos.x;\r\n    }\r\n\r\n    if (p.y < this.cameraPos.y - this.cameraActorFrame.y) {\r\n      this.cameraPos.y = Math.floor(p.y + this.cameraActorFrame.y);\r\n      this.cameraShift.y = this.cameraInitialPos.y - this.cameraPos.y;\r\n    } else if (p.y > this.cameraPos.y + this.cameraActorFrame.y) {\r\n      this.cameraPos.y = Math.floor(p.y - this.cameraActorFrame.y);\r\n      this.cameraShift.y = this.cameraInitialPos.y - this.cameraPos.y;\r\n    }\r\n\r\n  }\r\n\r\n  public resetCanvasTransform() {\r\n    // affine matrix (rotate and movement)\r\n    // [ cos(phi)  sin(phi)  0 ]\r\n    // [-sin(phi)  cos(phi)  0 ]\r\n    // [ tx        ty        1 ]\r\n\r\n    // affine matrix (scaling)\r\n    // [ Kx        0         0 ]\r\n    // [ 0         Ky        0 ]\r\n    // [ 0         0         1 ]\r\n\r\n    // (dx,dy) - the offset to follow the camera\r\n    let dx = 0; let dy = 0;\r\n    if (!this.cameraPos.equals( this.cameraInitialPos )){\r\n      dx = this.cameraInitialPos.x - this.cameraPos.x;\r\n      dy = this.cameraInitialPos.y - this.cameraPos.y\r\n    }\r\n\r\n    this.ctx.setTransform(\r\n      1, 0,\r\n      0, 1,\r\n      dx, dy\r\n    );\r\n\r\n  }\r\n\r\n  public gameFrameDraw(): void {\r\n    this.gameObjects.forEach( (it: GameObject) => { if (it.isDrawable) {\r\n        this.resetCanvasTransform();\r\n        it.draw();\r\n        if (this.showOuterFrames) {\r\n          this.ctx.beginPath();\r\n          this.ctx.rect(it.p.x + it.outerFrame.x, it.p.y + it.outerFrame.y, it.outerFrame.w, it.outerFrame.h );\r\n          this.ctx.strokeStyle = this.outerFramesColor;\r\n          this.ctx.stroke();\r\n        }\r\n    }});\r\n  }\r\n\r\n  public add(gameObject: GameObject): void {\r\n    this.gameObjects.push( gameObject );\r\n    gameObject.onAddIntoGame(this);\r\n\r\n  }\r\n\r\n  protected del(gameObject: GameObject): void {\r\n    this.rmFromArr(this.gameObjects, gameObject);\r\n    if (gameObject === this.actor) { this.pauseGame(); }\r\n    this.matrix.remove(gameObject);\r\n  }\r\n\r\n  protected rmFromArr(arr: any[], obj: any) {\r\n    const i = arr.indexOf(obj);\r\n    if (i !== -1) { arr.splice(i, 1); }\r\n  }\r\n\r\n  public markForDelete(gameObject: GameObject): void {\r\n    this.gameObjectsForDelete.push( gameObject );\r\n  };\r\n\r\n  private deleteMarkedElements(): void {\r\n    if (this.gameObjectsForDelete.length === 0) { return; }\r\n\r\n    this.gameObjectsForDelete.forEach( it => this.del( it ) );\r\n  }\r\n\r\n  public     onMouseMove(event: MouseEvent): void { this.processMouseEvent(event, MouseEventType.MOVE); }\r\n  public     onMouseDown(event: MouseEvent): void { this.processMouseEvent(event, MouseEventType.DOWN); }\r\n  public       onMouseUp(event: MouseEvent): void { this.processMouseEvent(event, MouseEventType.UP);   }\r\n  public    onMouseClick(event: MouseEvent): void { this.processMouseEvent(event, MouseEventType.CLICK);}\r\n  public    onMouseEnter(event: MouseEvent): void { this.processMouseEvent(event, MouseEventType.ENTER);}\r\n  public    onMouseLeave(event: MouseEvent): void { this.processMouseEvent(event, MouseEventType.LEAVE);}\r\n  public onMouseDblClick(event: MouseEvent): void { this.processMouseEvent(event, MouseEventType.DBL_CLICK);}\r\n\r\n  public  onKeyboardDown(event: KeyboardEvent): void { this.processKeyboardEvent(event, KeyboardEventType.DOWN);}\r\n  public    onKeyboardUp(event: KeyboardEvent): void { this.processKeyboardEvent(event, KeyboardEventType.UP);}\r\n  public onKeyboardPress(event: KeyboardEvent): void { this.processKeyboardEvent(event, KeyboardEventType.PRESS);}\r\n\r\n  private processMouseEvent(event: MouseEvent, type: MouseEventType): void {\r\n    this.mousePos.setVector(event.layerX - this.cameraShift.x, event.layerY - this.cameraShift.y);\r\n    this.mouse.next( new GameMouseEvent(event, type, this.mousePos.copy()) );\r\n  }\r\n  private processKeyboardEvent(event: KeyboardEvent, type: KeyboardEventType): void {\r\n    this.keyboard.next( new GameKeyboardEvent(event, type) );\r\n  }\r\n\r\n  public onDestroy(): void {\r\n    this.gameTimer.unsubscribe();\r\n    this.framesCounterSubscription.unsubscribe();\r\n  }\r\n\r\n\r\n  private _idCounter = 0;\r\n  public getNextId(): number { return ++this._idCounter; }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/game.ts","import {GameObject} from './game-object';\r\nimport {Pos} from './position';\r\n\r\nexport class LocationMatrix {\r\n\r\n  public size;\r\n\r\n  public index: Array<Array<Array<GameObject>>>; // map matrix cel (l,c) -> set of objects inside this ceil\r\n  public positions: MatrixPosIndex= {}; // map object -> ceils of the matrix where this project present\r\n\r\n  public lines: number;\r\n  public columns: number;\r\n\r\n  private worldSize: Pos;\r\n\r\n  constructor(size, worldSize: Pos) {\r\n    this.size = size;\r\n    this.worldSize = worldSize.copy();\r\n    this.forceClear();\r\n  }\r\n\r\n  public forceClear(): void {\r\n    this.lines = Math.ceil(this.worldSize.y / this.size) + 1;\r\n    this.columns = Math.ceil(this.worldSize.x / this.size) + 1;\r\n\r\n    this.index = [];\r\n    for (let l = 0; l < this.lines; l++) {\r\n      this.index[l] = [];\r\n      for (let c=0; c < this.columns; c++) {\r\n        this.index[l][c] = [];\r\n      }\r\n    }\r\n\r\n    this.positions = {};\r\n  }\r\n\r\n  public remove(o: GameObject): void {\r\n    const id = `${o.id}`;\r\n    const prevPositions = this.positions[id];\r\n    if (prevPositions) {\r\n      for (let l = prevPositions.lb; l <= prevPositions.le; l++){\r\n        let prevIndexLine = this.index[l];\r\n        if (prevIndexLine) {\r\n          for (let c = prevPositions.cb; c <= prevPositions.ce; c++) {\r\n\r\n            const prevIndex = prevIndexLine[c];\r\n            if (prevIndex) {\r\n              this.removeFromSet(prevIndex, o);\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.positions[id] = undefined;\r\n  }\r\n\r\n  public update(o: GameObject): void {\r\n    const id = `${o.id}`;\r\n\r\n    const pTopY  = o.p.y + o.outerFrame.y;\r\n    const pLeftX = o.p.x + o.outerFrame.x;\r\n\r\n    const prevPositions: MatrixPos = this.positions[id];\r\n    const newPositions: MatrixPos = {\r\n      lb: Math.floor( pTopY                   / this.size), cb: Math.floor( pLeftX                   / this.size),\r\n      le: Math.floor((pTopY + o.outerFrame.h) / this.size), ce: Math.floor((pLeftX + o.outerFrame.w) / this.size)\r\n    };\r\n\r\n    if (prevPositions && newPositions.lb === prevPositions.lb && newPositions.cb === prevPositions.cb\r\n                      && newPositions.le === prevPositions.le && newPositions.ce === prevPositions.ce\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this.applyForRegion(prevPositions, cellObjectsSet => this.removeFromSet(cellObjectsSet, o));\r\n    this.applyForRegion(newPositions , cellObjectsSet => this.addIntoSet(cellObjectsSet, o));\r\n\r\n    this.positions[id] = newPositions;\r\n  }\r\n\r\n  public applyForNearestObjects(o: GameObject, callback: (GameObject) => void): void {\r\n    this.applyForRegionObjects(this.positions[`${o.id}`], callback);\r\n  }\r\n\r\n  public applyForRegion(pos: MatrixPos, callback: (Array) => void) {\r\n      if (pos) {\r\n          for (let l = pos.lb; l <= pos.le; l++) {\r\n              let line = this.index[l];\r\n              if (line) {\r\n                  for (let c = pos.cb; c <= pos.ce; c++) {\r\n                      const col = line[c];\r\n                      if (col) {\r\n                        callback(col);\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n      }\r\n  }\r\n\r\n  public applyForRegionObjects(pos: MatrixPos, callback: (GameObject) => void) {\r\n    this.applyForRegion(pos, index => index.forEach(callback));\r\n  }\r\n\r\n  private addIntoSet(set: Array<GameObject>, o: GameObject): void {\r\n    let i = 0;\r\n    while (i < set.length && set[i] !== o) { i++; }\r\n    if (i == set.length) set.push(o);\r\n  }\r\n\r\n  private removeFromSet(set: Array<GameObject>, o: GameObject): void {\r\n    let i = 0;\r\n    while (i < set.length && set[i] !== o) { i++; }\r\n    if (i < set.length)  set.splice(i);\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\ninterface MatrixPos {lb: number, cb: number, le: number, ce: number}\r\ninterface MatrixPosIndex {\r\n  [key: string]: MatrixPos\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/location-matrix.ts","import {Pos} from './position';\r\n\r\nexport class ObjectFrame extends Pos{\r\n\r\n  public w: number;\r\n  public h: number;\r\n\r\n  constructor(left: number, top: number, w: number, h: number) {\r\n    super(left, top);\r\n    this.w = w;\r\n    this.h = h;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/object-frame.ts","export class Pos {\r\n\r\n  static angle_0   =  0;\r\n  static angle_90  =  Math.PI / 2;\r\n  static angle_180 =  Math.PI / 2;\r\n  static angle_270 = -Math.PI / 2;\r\n  static angle_360 = Math.PI * 2;\r\n\r\n  public x = 0;\r\n  public y = 0;\r\n\r\n  constructor (x: number, y: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  public copy(): Pos { return new Pos(this.x, this.y); }\r\n\r\n  public distanceTo(p: Pos): number {\r\n    const dx = p.x - this.x;\r\n    const dy = p.y - this.y;\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n  }\r\n\r\n  public equals(p: Pos): boolean {\r\n    return this.x === p.x && this.y === p.y;\r\n\r\n  }\r\n\r\n  public getOffsetVector(directionVector: Pos, distance: number): Pos {\r\n    return new Pos( this.x + directionVector.x * distance, this.y + directionVector.y * distance)\r\n  }\r\n\r\n  public setVector(x: number, y: number) { this.x = x; this.y = y; }\r\n\r\n  public setAsOffsetOf(originalPosition: Pos, offsetVector: Pos) {\r\n    this.x = originalPosition.x + offsetVector.x;\r\n    this.y = originalPosition.y + offsetVector.y;\r\n  }\r\n\r\n  /**\r\n   * restore angle by vector v, only for len(v) = 1\r\n   */\r\n  public angle() {\r\n\r\n    if (this.x === 0) { return (this.y > 0) ? Pos.angle_90 : Pos.angle_270; }\r\n    if (this.y === 0) { return (this.x > 0) ? Pos.angle_0  : Pos.angle_180; }\r\n\r\n    if (this.x > 0 ) return  Math.asin(this.y);\r\n    if (this.x < 0 && this.y > 0) return  Math.acos(this.x);\r\n    if (this.x < 0 && this.y < 0) return  -Math.acos(this.x);\r\n\r\n  }\r\n\r\n  fLine(directionVector: Pos, x: number): number {\r\n    return this.y + (directionVector.y / directionVector.x)*(x-this.x);\r\n\r\n    // line L : y = kx + t\r\n    // const x1 = this.x; // point on the line\r\n    // const y1 = this.y;\r\n    // const dx = directionVector.x; // line direction vector\r\n    // const dy = directionVector.y;\r\n    //\r\n    // const k = dy / dx;\r\n    // const t = y1 - k*x1;\r\n    //\r\n    // const y = k*x + t;\r\n    // return y;\r\n  }\r\n\r\n  thisCircleWirhLineCrossing(line_p:Pos, line_directionVector: Pos, circle_radius: number): Array<Pos> {\r\n    // line L : y = kx + t\r\n    //const x1 = line_p.x; // point on the line\r\n    //const y1 = line_p.y;\r\n    //const dx = line_directionVector.x; // line direction vector\r\n    //const dy = line_directionVector.y;\r\n\r\n    // circle_center coordinates - get from this object\r\n\r\n    // y = y1 + (dy/dx) * (x - x1) =>\r\n    const k = line_directionVector.y / line_directionVector.x;\r\n    const t = line_p.y - k*line_p.x;\r\n\r\n    return this.circleAndLineCrossingMath(k,t, this.x, this.y, circle_radius);\r\n  }\r\n\r\n  circleAndLineCrossingMath(k: number, t: number, Xc: number, Yc: number, R: number): Array<Pos> {\r\n    // 1\r\n    //  /--\r\n    //  |   line L:  y = kx + t\r\n    // /\r\n    // \\                  2        2   2\r\n    //  |   circle:  (x-Xc) + (y-Yc) = R\r\n    //  \\--\r\n\r\n    // 2\r\n    // ax + bx + c = 0\r\n\r\n    let a = 1+k*k;\r\n    let b = 2*(t*k - Xc - Yc*k);\r\n    let c = t*t - 2*Yc*t - R*R + Yc*Yc + Xc*Xc;\r\n\r\n    // solution of the square equation\r\n    let res1: Pos = null;\r\n    let res2: Pos = null;\r\n\r\n    let D = b*b - 4*a*c;\r\n\r\n    if (D < 0) {\r\n      return [];\r\n\r\n    } else if (D == 0) {\r\n      res1 = new Pos(0,0);\r\n      res1.x = (-b)/(2*a);\r\n      res1.y = k*res1.x + t;\r\n      return [res1];\r\n\r\n    } else {\r\n      res1 = new Pos(0,0);\r\n      res1.x = (-b + Math.sqrt(D)) / (2*a);\r\n      res1.y = k*res1.x + t;\r\n\r\n      res2 = new Pos(0,0);\r\n      res2.x = (-b - Math.sqrt(D)) / (2*a);\r\n      res2.y = k*res2.x + t;\r\n    }\r\n\r\n    return [res1, res2];\r\n  }\r\n\r\n\r\n  setAngle(angle: number) {\r\n    this.x = Math.cos(angle);\r\n    this.y = Math.sin(angle);\r\n  }\r\n\r\n  rotateOn(angleDelta: number) {\r\n    this.setAngle(this.angle() + angleDelta)\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/position.ts","import {GameObject} from './game-object';\r\n\r\nexport class TextGameObject extends GameObject {\r\n\r\n  public color: string | CanvasGradient | CanvasPattern;\r\n  public fill: string | CanvasGradient | CanvasPattern;\r\n  public text: string;\r\n  public font: string;\r\n\r\n  constructor (text: string, font:string, color: string | CanvasGradient | CanvasPattern, fill: string | CanvasGradient | CanvasPattern) {\r\n    super(0, 0);\r\n    this.color = color;\r\n    this.text = text;\r\n    this.font = font;\r\n    this.fill = fill;\r\n  }\r\n\r\n\r\n  draw (): void {\r\n    let ctx = this.game.ctx;\r\n\r\n    ctx.lineWidth = 2;\r\n    ctx.strokeStyle = this.color;\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.font = this.font;\r\n    ctx.fillStyle = this.fill;\r\n\r\n    this.game.ctx.fillText(this.text,this.game.worldSize.x / 2, this.game.worldSize.y / 2 );\r\n    this.game.ctx.strokeText(this.text,this.game.worldSize.x / 2, this.game.worldSize.y / 2 );\r\n  }\r\n\r\n  beforeTurn (): void {\r\n  }\r\n\r\n  turn (): void {\r\n  }\r\n\r\n  afterTurn (): void {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/text-game-object.ts","export class TimeCounter {\r\n\r\n  lastActionTimeMillis: number = 0; // in miliseconds\r\n  actionPeriodMillis: number = 0; // in miliseconds\r\n  lastCheckingMoment: number = 0;\r\n\r\n  lastDuration: number = 0;\r\n\r\n  constructor (actionPeriodMillis: number) {\r\n    this.lastActionTimeMillis = 0;\r\n    this.actionPeriodMillis = actionPeriodMillis;\r\n  }\r\n\r\n  public isItTime(): boolean {\r\n    this.lastCheckingMoment = new Date().getTime();\r\n    return (this.lastActionTimeMillis + this.actionPeriodMillis) < this.lastCheckingMoment;\r\n  }\r\n\r\n  public fixLastChecking() {\r\n    this.lastDuration = this.lastCheckingMoment - this.lastActionTimeMillis;\r\n    this.lastActionTimeMillis = this.lastCheckingMoment;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/time-counter.ts","import {GameObject} from './game-object';\r\n\r\nexport class TransparentBackground extends GameObject {\r\n\r\n  constructor () {\r\n    super(0, 0);\r\n  }\r\n\r\n\r\n  draw (): void {\r\n    // Draw background: optimized 'magic' hack-version\r\n    this.game.canvas.width = this.game.canvas.width;\r\n  }\r\n\r\n  beforeTurn (): void {\r\n  }\r\n\r\n  turn (): void {\r\n  }\r\n\r\n  afterTurn (): void {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/transparent-background.ts","import {GameObject} from './game-object';\r\n\r\nexport class WorldFrameObject extends GameObject {\r\n\r\n  public color: string | CanvasGradient | CanvasPattern;\r\n\r\n  constructor (color: string | CanvasGradient | CanvasPattern) {\r\n    super(0, 0);\r\n    this.color = color;\r\n  }\r\n\r\n\r\n  draw (): void {\r\n    const ctx = this.game.ctx;\r\n    ctx.strokeStyle = this.color;\r\n    ctx.lineWidth = 5;\r\n    ctx.strokeRect( 0,0, this.game.worldSize.x, this.game.worldSize.y);\r\n\r\n  }\r\n\r\n  beforeTurn (): void {\r\n  }\r\n\r\n  turn (): void {\r\n  }\r\n\r\n  afterTurn (): void {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/lib/game-core/world-frame-object.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/zombie/src/main.ts"],"sourceRoot":"webpack:///"}